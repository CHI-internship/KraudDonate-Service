version: 2.1
jobs:
  build-and-lint-project:
    docker:
      -image: circleci/node:16.17.1
    steps:
      - checkout
      - restore_cache:
          key: dependency-cache-{{ .Branch}}-{{ checksum "package.json }}
      - run:
          name: Install Dependencies
          command: |
            npm i
      - save_cache:
          key: dependency-cache-{{ .Branch}}-{{ checksum "package.json }}
          paths:
            - "node_modules"
workflows:
  node-tests:
    jobs:
      - build-and-lint-project:
          filters:
            branches:
              only:
                - dev
                - master
                - feature/circleCi

